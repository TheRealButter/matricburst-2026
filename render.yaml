services:
  - type: web
    name: matricburst-2026
    env: docker
    plan: free
    region: oregon
    dockerfilePath: ./Dockerfile
    healthCheckPath: /healthz
    envVars:
      - key: AP_ENVIRONMENT
        value: production
      - key: AP_FRONTEND_URL
        generateValue: true
      - key: AP_SERVER_URL
        generateValue: true
      - key: AP_ENCRYPTION_KEY
        generateValue: true
      - key: AP_JWT_SECRET
        generateValue: true
      - key: DATABASE_URL
        value: sqlite:///app/data/activepieces.db
      - key: NODE_ENV
        value: production
      - key: WHATSAPP_TOKEN
        sync: false  # Your token is already set in Render env
      - key: WHATSAPP_PHONE_ID
        sync: false  # Your phone ID is already set
      - key: AP_ENABLE_SIGNUP
        value: true  # Forces first-time setup screen
